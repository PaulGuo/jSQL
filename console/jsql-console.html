<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
    <link rel="stylesheet" href="jsql-console.css" />
    <script type="text/javascript" src="jquery-1.8.0.min.js"></script>
</head>
<body>
	
    <div class="wrapper">
        <div class="console">
            <textarea id="screen" name="" rows="10" cols="30" readonly>
Welcome to jSQL.
version 0.2.0-dev.
            </textarea><br />
            <div class="shell">
                <label for="command" class="shell-title">jsql &gt;</label>
                <input id="command" name="" type="text" />
            </div>
        </div>
    </div>

    <script type="text/javascript">
        var screen = $('#screen');
        var command = $('#command');

        var args = function(evt) {
            return $(evt.currentTarget).val();
        };

        var clearConsole = function(evt) {
            return screen.html('');
        };

        var clearShell = function(evt) {
            return $(evt.currentTarget).val('');
        };

        var writeConsole = function(evt, text) {
            return screen.append('\n' + text);
        };

        var goBottom = function() {
            var scrollTop = screen[0].scrollHeight;  
            screen.scrollTop(scrollTop);
        };

        command.keypress(function(evt) {
            if(evt.which == 13) {
                var cmd = args(evt);
                evt.preventDefault();

                writeConsole(evt, '> ' + cmd);

                if(cmd === 'clear') {
                    clearConsole();
                }

                if(cmd === 'help') {
                    writeConsole(evt, '');
                    writeConsole(evt, 'jSQL version 0.2.0-dev.');
                    writeConsole(evt, 'Help Documentation.');
                    writeConsole(evt, '-----------------------');
                    writeConsole(evt, '`create`: create new database.');
                    writeConsole(evt, '`use`: use exist database.');
                    writeConsole(evt, '`drop`: drop exist database.');
                    writeConsole(evt, '`select`: select from current database.');
                    writeConsole(evt, '');
                }

                clearShell(evt);
                goBottom();            
            }
        });
    </script>

</body>
</html>
